<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>GA Scratch-Off Analyzer</title>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #0a0a0f;
    color: #e0e0e0;
    min-height: 100vh;
    -webkit-tap-highlight-color: transparent;
  }
  #root { max-width: 480px; margin: 0 auto; padding: 0 0 100px; }
  input:focus { border-color: #3b82f6 !important; }
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">

const LOTTERY_DATA = [{"Game Number":1876,"Game Name":"$1,500,000 MAX","Ticket Price":10,"Top Prize":1500000,"Claimed":0,"Total":3},{"Game Number":1704,"Game Name":"$1 Big Georgia Raffle","Ticket Price":1,"Top Prize":5000,"Claimed":4,"Total":5},{"Game Number":1609,"Game Name":"$1,000 Fever!","Ticket Price":10,"Top Prize":1000,"Claimed":4056,"Total":4288},{"Game Number":1837,"Game Name":"$1,000 Overload","Ticket Price":5,"Top Prize":100000,"Claimed":4,"Total":5},{"Game Number":1864,"Game Name":"$1,000,000 Jingle Jumbo Bucks","Ticket Price":10,"Top Prize":1000000,"Claimed":1,"Total":3},{"Game Number":1855,"Game Name":"$1,000,000 Triple Match","Ticket Price":10,"Top Prize":1000000,"Claimed":2,"Total":3},{"Game Number":1783,"Game Name":"$1,000,000 Triple Play","Ticket Price":10,"Top Prize":1000000,"Claimed":1,"Total":3},{"Game Number":1620,"Game Name":"$10,000 Payout","Ticket Price":10,"Top Prize":10000,"Claimed":329,"Total":350},{"Game Number":1276,"Game Name":"$100 OR $200!","Ticket Price":20,"Top Prize":200,"Claimed":449489,"Total":451550},{"Game Number":1632,"Game Name":"$100 Tripler","Ticket Price":2,"Top Prize":30000,"Claimed":2,"Total":3},{"Game Number":1872,"Game Name":"$100 or $200","Ticket Price":20,"Top Prize":200,"Claimed":29689,"Total":49033},{"Game Number":1754,"Game Name":"$100, $200 & $300 CASH OUT","Ticket Price":20,"Top Prize":300,"Claimed":4548,"Total":4588},{"Game Number":1822,"Game Name":"$100, $200, $300, and $1,000 Cash","Ticket Price":20,"Top Prize":1000,"Claimed":660,"Total":806},{"Game Number":1705,"Game Name":"$2 Big Georgia Raffle","Ticket Price":2,"Top Prize":50000,"Claimed":3,"Total":5},{"Game Number":1596,"Game Name":"$2 CASH","Ticket Price":2,"Top Prize":50000,"Claimed":6,"Total":8},{"Game Number":1715,"Game Name":"$2 Million Multiplier","Ticket Price":20,"Top Prize":2000000,"Claimed":2,"Total":3},{"Game Number":1780,"Game Name":"$2,000 Cash Craze","Ticket Price":20,"Top Prize":1000000,"Claimed":2,"Total":3},{"Game Number":1838,"Game Name":"$2,000 Overload","Ticket Price":10,"Top Prize":200000,"Claimed":5,"Total":6},{"Game Number":1800,"Game Name":"$2,500,000 CASH MULTIPLIER","Ticket Price":20,"Top Prize":2500000,"Claimed":3,"Total":4},{"Game Number":1709,"Game Name":"$20 Big Georgia Raffle","Ticket Price":20,"Top Prize":2000000,"Claimed":2,"Total":4},{"Game Number":1801,"Game Name":"$200 LOADED","Ticket Price":2,"Top Prize":200,"Claimed":2757,"Total":2951},{"Game Number":1551,"Game Name":"$25, $50 or $100 Holiday Edition","Ticket Price":5,"Top Prize":100,"Claimed":9482,"Total":9781},{"Game Number":1656,"Game Name":"$25,000 Game","Ticket Price":20,"Top Prize":25000,"Claimed":187,"Total":195},{"Game Number":1812,"Game Name":"$3,000 FESTIVE FRENZY","Ticket Price":30,"Top Prize":3000000,"Claimed":2,"Total":3},{"Game Number":1839,"Game Name":"$3,000 Overload","Ticket Price":20,"Top Prize":300000,"Claimed":2,"Total":6},{"Game Number":1868,"Game Name":"$3,000,000 Jingle Jumbo Bucks","Ticket Price":30,"Top Prize":3000000,"Claimed":1,"Total":3},{"Game Number":1628,"Game Name":"$40,000 Taxes Paid","Ticket Price":2,"Top Prize":40000,"Claimed":3,"Total":4},{"Game Number":1875,"Game Name":"$400,000 Fortune","Ticket Price":5,"Top Prize":400000,"Claimed":1,"Total":3},{"Game Number":1707,"Game Name":"$5 Big Georgia Raffle","Ticket Price":5,"Top Prize":400000,"Claimed":1,"Total":3},{"Game Number":1598,"Game Name":"$5 CASH","Ticket Price":5,"Top Prize":500000,"Claimed":3,"Total":4},{"Game Number":1485,"Game Name":"$5,000 Overload","Ticket Price":5,"Top Prize":5000,"Claimed":454,"Total":481},{"Game Number":1572,"Game Name":"$50,000 Extravaganza","Ticket Price":15,"Top Prize":50000,"Claimed":129,"Total":150},{"Game Number":1809,"Game Name":"$500 Festive Frenzy","Ticket Price":5,"Top Prize":500,"Claimed":11488,"Total":11842},{"Game Number":1863,"Game Name":"$500 Jingle Jumbo Bucks","Ticket Price":5,"Top Prize":500,"Claimed":10794,"Total":12428},{"Game Number":1795,"Game Name":"$500,000 Jumbo Cash","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":3},{"Game Number":1736,"Game Name":"$600 Blowout","Ticket Price":10,"Top Prize":600,"Claimed":16372,"Total":16501},{"Game Number":1546,"Game Name":"$600 Cash","Ticket Price":10,"Top Prize":600,"Claimed":10903,"Total":11027},{"Game Number":1845,"Game Name":"$600 Fever","Ticket Price":10,"Top Prize":600,"Claimed":13644,"Total":17442},{"Game Number":1571,"Game Name":"$600 Fully Loaded","Ticket Price":10,"Top Prize":600,"Claimed":21827,"Total":21995},{"Game Number":1788,"Game Name":"$600 Windfall","Ticket Price":10,"Top Prize":600,"Claimed":16242,"Total":16486},{"Game Number":1766,"Game Name":"100X The Cash","Ticket Price":20,"Top Prize":2000000,"Claimed":2,"Total":3},{"Game Number":1423,"Game Name":"100x The Money","Ticket Price":20,"Top Prize":3000000,"Claimed":17,"Total":19},{"Game Number":1418,"Game Name":"10X The Money","Ticket Price":2,"Top Prize":40000,"Claimed":44,"Total":48},{"Game Number":1857,"Game Name":"10x the Money Bonus Doubler","Ticket Price":2,"Top Prize":40000,"Claimed":3,"Total":3},{"Game Number":1846,"Game Name":"15X Cashword","Ticket Price":3,"Top Prize":130000,"Claimed":4,"Total":4},{"Game Number":1419,"Game Name":"15X The Money","Ticket Price":3,"Top Prize":150000,"Claimed":38,"Total":42},{"Game Number":1860,"Game Name":"200X the Money","Ticket Price":25,"Top Prize":4000000,"Claimed":2,"Total":3},{"Game Number":1421,"Game Name":"20X The Money","Ticket Price":5,"Top Prize":400000,"Claimed":54,"Total":62},{"Game Number":1859,"Game Name":"20x The Money Bonus Doubler","Ticket Price":5,"Top Prize":400000,"Claimed":3,"Total":3},{"Game Number":1737,"Game Name":"2nd Edition Billionaire Club Series**","Ticket Price":30,"Top Prize":7000000,"Claimed":2,"Total":4},{"Game Number":1737,"Game Name":"2nd Edition Billionaire Club Series**","Ticket Price":30,"Top Prize":1000000,"Claimed":11,"Total":22},{"Game Number":1732,"Game Name":"30th Anniversary","Ticket Price":5,"Top Prize":30000,"Claimed":34,"Total":43},{"Game Number":1787,"Game Name":"5 Spot","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":3},{"Game Number":1770,"Game Name":"500X the Money","Ticket Price":50,"Top Prize":10000000,"Claimed":3,"Total":6},{"Game Number":1422,"Game Name":"50X The Money","Ticket Price":10,"Top Prize":1000000,"Claimed":45,"Total":51},{"Game Number":1417,"Game Name":"5X The Money","Ticket Price":1,"Top Prize":10000,"Claimed":114,"Total":120},{"Game Number":1760,"Game Name":"5X Wild","Ticket Price":5,"Top Prize":500000,"Claimed":3,"Total":4},{"Game Number":1702,"Game Name":"7 Game","Ticket Price":10,"Top Prize":700000,"Claimed":1,"Total":3},{"Game Number":1458,"Game Name":"Atlanta Falcons","Ticket Price":5,"Top Prize":350000,"Claimed":2,"Total":4},{"Game Number":1649,"Game Name":"Atlanta United FC","Ticket Price":2,"Top Prize":30000,"Claimed":1,"Total":3},{"Game Number":1539,"Game Name":"Big Cash Bonus","Ticket Price":2,"Top Prize":500,"Claimed":1539,"Total":1620},{"Game Number":1554,"Game Name":"Big Money Spectacular","Ticket Price":2,"Top Prize":50000,"Claimed":2,"Total":4},{"Game Number":1786,"Game Name":"Bingo Frenzy","Ticket Price":3,"Top Prize":150000,"Claimed":3,"Total":3},{"Game Number":1733,"Game Name":"Blazing Hot 7s","Ticket Price":20,"Top Prize":2777777,"Claimed":3,"Total":3},{"Game Number":1696,"Game Name":"Bonus Bucks","Ticket Price":10,"Top Prize":500000,"Claimed":4,"Total":5},{"Game Number":1659,"Game Name":"Bullseye Bingo","Ticket Price":3,"Top Prize":150000,"Claimed":3,"Total":4},{"Game Number":1586,"Game Name":"CASH","Ticket Price":5,"Top Prize":400000,"Claimed":4,"Total":5},{"Game Number":1424,"Game Name":"Ca$hword VII","Ticket Price":2,"Top Prize":30000,"Claimed":1,"Total":2},{"Game Number":1584,"Game Name":"Cash Match","Ticket Price":1,"Top Prize":1000,"Claimed":36,"Total":40},{"Game Number":1869,"Game Name":"Cash Payout","Ticket Price":2,"Top Prize":50000,"Claimed":4,"Total":6},{"Game Number":1652,"Game Name":"Cash on the Spot","Ticket Price":1,"Top Prize":500,"Claimed":84,"Total":106},{"Game Number":1425,"Game Name":"Cherry, Orange, Lemon Tripler Cashword","Ticket Price":3,"Top Prize":125000,"Claimed":77,"Total":83},{"Game Number":1882,"Game Name":"Cold Hard Cash","Ticket Price":5,"Top Prize":300000,"Claimed":0,"Total":3},{"Game Number":1647,"Game Name":"Double It!","Ticket Price":1,"Top Prize":5000,"Claimed":4,"Total":5},{"Game Number":1700,"Game Name":"Double Match","Ticket Price":2,"Top Prize":40000,"Claimed":4,"Total":4},{"Game Number":1768,"Game Name":"Double Sided Dollars","Ticket Price":5,"Top Prize":250000,"Claimed":3,"Total":4},{"Game Number":1643,"Game Name":"Emerald 8s","Ticket Price":5,"Top Prize":488888,"Claimed":1,"Total":3},{"Game Number":1803,"Game Name":"FIERY 4s","Ticket Price":5,"Top Prize":100000,"Claimed":2,"Total":3},{"Game Number":1758,"Game Name":"Family Feud","Ticket Price":5,"Top Prize":400000,"Claimed":2,"Total":3},{"Game Number":1772,"Game Name":"Fast $20's","Ticket Price":2,"Top Prize":20,"Claimed":193263,"Total":207419},{"Game Number":1773,"Game Name":"Fast $50's","Ticket Price":5,"Top Prize":50,"Claimed":141116,"Total":146868},{"Game Number":1701,"Game Name":"Fatter Wallet","Ticket Price":5,"Top Prize":250000,"Claimed":4,"Total":5},{"Game Number":1614,"Game Name":"Festive $500s","Ticket Price":5,"Top Prize":500,"Claimed":11435,"Total":11633},{"Game Number":1655,"Game Name":"Fiery 5s","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":4},{"Game Number":1694,"Game Name":"Fire & Ice","Ticket Price":10,"Top Prize":1000000,"Claimed":2,"Total":3},{"Game Number":1879,"Game Name":"Georgia Millionaire","Ticket Price":10,"Top Prize":10000,"Claimed":63,"Total":100},{"Game Number":1414,"Game Name":"Giant Jumbo Bucks","Ticket Price":5,"Top Prize":150000,"Claimed":130,"Total":144},{"Game Number":1569,"Game Name":"Gold Payout","Ticket Price":5,"Top Prize":200000,"Claimed":4,"Total":5},{"Game Number":1870,"Game Name":"Gold Premium Play","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":3},{"Game Number":1817,"Game Name":"Golden 7s","Ticket Price":10,"Top Prize":777777,"Claimed":3,"Total":3},{"Game Number":1588,"Game Name":"Great 8s","Ticket Price":1,"Top Prize":8000,"Claimed":3,"Total":5},{"Game Number":1426,"Game Name":"HIT $500!","Ticket Price":5,"Top Prize":500,"Claimed":126873,"Total":127997},{"Game Number":1476,"Game Name":"HIT $600","Ticket Price":10,"Top Prize":600,"Claimed":10696,"Total":10864},{"Game Number":1810,"Game Name":"HOLIDAY JUMBO BUCKS 50X","Ticket Price":10,"Top Prize":750000,"Claimed":2,"Total":3},{"Game Number":1814,"Game Name":"Happy New Year 2025","Ticket Price":3,"Top Prize":20025,"Claimed":13,"Total":17},{"Game Number":1874,"Game Name":"Happy New Year 2026","Ticket Price":3,"Top Prize":20026,"Claimed":12,"Total":17},{"Game Number":1542,"Game Name":"Heads or Tails","Ticket Price":1,"Top Prize":1000,"Claimed":35,"Total":40},{"Game Number":1666,"Game Name":"Hit $200","Ticket Price":2,"Top Prize":200,"Claimed":2914,"Total":3048},{"Game Number":1734,"Game Name":"Hit $200","Ticket Price":2,"Top Prize":200,"Claimed":2902,"Total":3037},{"Game Number":1576,"Game Name":"Hit $300 Bingo","Ticket Price":3,"Top Prize":150000,"Claimed":3,"Total":4},{"Game Number":1750,"Game Name":"Holiday 100X the Money","Ticket Price":20,"Top Prize":1500000,"Claimed":1,"Total":3},{"Game Number":1789,"Game Name":"Hot 777","Ticket Price":20,"Top Prize":2000000,"Claimed":3,"Total":3},{"Game Number":1602,"Game Name":"Hot Bingo Multiplier","Ticket Price":3,"Top Prize":150000,"Claimed":2,"Total":4},{"Game Number":1842,"Game Name":"Instant Cash","Ticket Price":10,"Top Prize":1000000,"Claimed":1,"Total":3},{"Game Number":1711,"Game Name":"It Takes 2","Ticket Price":2,"Top Prize":20000,"Claimed":3,"Total":4},{"Game Number":1802,"Game Name":"JUMBO BUCKS TRICKS AND TREATS","Ticket Price":2,"Top Prize":20000,"Claimed":3,"Total":3},{"Game Number":1861,"Game Name":"Jingle Jumbo Bucks","Ticket Price":2,"Top Prize":20000,"Claimed":3,"Total":3},{"Game Number":1862,"Game Name":"Jingle Jumbo Bucks Tripler","Ticket Price":3,"Top Prize":130000,"Claimed":3,"Total":3},{"Game Number":1856,"Game Name":"Jumbo Boo Bucks","Ticket Price":2,"Top Prize":25000,"Claimed":1,"Total":3},{"Game Number":1606,"Game Name":"Jumbo Bucks Bonus","Ticket Price":2,"Top Prize":40000,"Claimed":6,"Total":8},{"Game Number":1411,"Game Name":"Jumbo Bucks Classic","Ticket Price":2,"Top Prize":50000,"Claimed":221,"Total":250},{"Game Number":1412,"Game Name":"Jumbo Bucks Crossword","Ticket Price":3,"Top Prize":100000,"Claimed":59,"Total":60},{"Game Number":1835,"Game Name":"Jumbo Bucks Extravaganza","Ticket Price":50,"Top Prize":5000000,"Claimed":2,"Total":8},{"Game Number":1823,"Game Name":"Jumbo Bucks Sweet Winnings","Ticket Price":2,"Top Prize":40000,"Claimed":3,"Total":3},{"Game Number":1415,"Game Name":"Jumbo Jumbo Bucks","Ticket Price":10,"Top Prize":500000,"Claimed":49,"Total":51},{"Game Number":1759,"Game Name":"Jumbo Jumbo Bucks","Ticket Price":10,"Top Prize":500000,"Claimed":16,"Total":24},{"Game Number":1410,"Game Name":"Junior Jumbo Bucks","Ticket Price":1,"Top Prize":10000,"Claimed":238,"Total":279},{"Game Number":1563,"Game Name":"King of Cash","Ticket Price":5,"Top Prize":300000,"Claimed":5,"Total":6},{"Game Number":1322,"Game Name":"Loteria","Ticket Price":2,"Top Prize":40000,"Claimed":73,"Total":84},{"Game Number":1486,"Game Name":"Lots of $15,000!","Ticket Price":10,"Top Prize":15000,"Claimed":269,"Total":275},{"Game Number":1377,"Game Name":"Lots of $500s SPECIAL EDITION","Ticket Price":5,"Top Prize":500,"Claimed":12390,"Total":12592},{"Game Number":1687,"Game Name":"Lucky 7","Ticket Price":25,"Top Prize":777777,"Claimed":4,"Total":6},{"Game Number":1848,"Game Name":"Lucky 7 Doubler","Ticket Price":5,"Top Prize":500000,"Claimed":3,"Total":3},{"Game Number":1849,"Game Name":"Lucky 7 Multiplier","Ticket Price":10,"Top Prize":1000000,"Claimed":2,"Total":3},{"Game Number":1850,"Game Name":"Lucky 7 Tripler","Ticket Price":20,"Top Prize":2000000,"Claimed":2,"Total":3},{"Game Number":1877,"Game Name":"Lucky Love","Ticket Price":2,"Top Prize":20000,"Claimed":2,"Total":3},{"Game Number":1825,"Game Name":"Lucky Pik","Ticket Price":5,"Top Prize":300000,"Claimed":2,"Total":3},{"Game Number":1841,"Game Name":"Lucky Roll","Ticket Price":5,"Top Prize":400000,"Claimed":2,"Total":4},{"Game Number":1873,"Game Name":"Match 2 Doubler","Ticket Price":2,"Top Prize":40000,"Claimed":3,"Total":4},{"Game Number":1640,"Game Name":"Match 2 Win","Ticket Price":1,"Top Prize":1000,"Claimed":18,"Total":27},{"Game Number":1612,"Game Name":"Merry Money Multiplier","Ticket Price":2,"Top Prize":30000,"Claimed":3,"Total":5},{"Game Number":1634,"Game Name":"Million Dollar Giveaway","Ticket Price":30,"Top Prize":1000000,"Claimed":18,"Total":19},{"Game Number":1888,"Game Name":"Millionaire Jumbo Bucks","Ticket Price":20,"Top Prize":2500000,"Claimed":0,"Total":3},{"Game Number":1843,"Game Name":"Millionaire Maker","Ticket Price":30,"Top Prize":1000000,"Claimed":5,"Total":19},{"Game Number":1791,"Game Name":"Money Bag","Ticket Price":5,"Top Prize":500,"Claimed":4697,"Total":5101},{"Game Number":1575,"Game Name":"Monopoly $1,000 a Week for Life","Ticket Price":2,"Top Prize":"$1,000/wk for life","Claimed":4,"Total":5},{"Game Number":1858,"Game Name":"Mystery Bingo Multiplier","Ticket Price":3,"Top Prize":170000,"Claimed":2,"Total":4},{"Game Number":1805,"Game Name":"POWER BLITZ","Ticket Price":10,"Top Prize":1000000,"Claimed":2,"Total":3},{"Game Number":1622,"Game Name":"Perfect 10s","Ticket Price":1,"Top Prize":10000,"Claimed":2,"Total":4},{"Game Number":1871,"Game Name":"Platinum Premium Play","Ticket Price":10,"Top Prize":1000000,"Claimed":2,"Total":3},{"Game Number":1844,"Game Name":"Plus the Money","Ticket Price":5,"Top Prize":500000,"Claimed":3,"Total":3},{"Game Number":1790,"Game Name":"Pot of Gold","Ticket Price":2,"Top Prize":200,"Claimed":1124,"Total":1283},{"Game Number":1386,"Game Name":"Power 5's","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":3},{"Game Number":1664,"Game Name":"Power 5s","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":3},{"Game Number":1820,"Game Name":"Power 5s","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":3},{"Game Number":1742,"Game Name":"Power Boost","Ticket Price":2,"Top Prize":30000,"Claimed":3,"Total":4},{"Game Number":1461,"Game Name":"Quick $100s","Ticket Price":10,"Top Prize":100,"Claimed":77564,"Total":81684},{"Game Number":1446,"Game Name":"Quick $50s","Ticket Price":5,"Top Prize":50,"Claimed":79576,"Total":81596},{"Game Number":1644,"Game Name":"Quick $600s","Ticket Price":10,"Top Prize":600,"Claimed":27197,"Total":27408},{"Game Number":1824,"Game Name":"Quick Wins","Ticket Price":2,"Top Prize":100,"Claimed":2757,"Total":2961},{"Game Number":1641,"Game Name":"Rack Up!","Ticket Price":2,"Top Prize":30000,"Claimed":4,"Total":5},{"Game Number":1673,"Game Name":"Red Ball Tripler","Ticket Price":2,"Top Prize":30000,"Claimed":3,"Total":4},{"Game Number":1562,"Game Name":"Show Me $30,000","Ticket Price":2,"Top Prize":30000,"Claimed":4,"Total":5},{"Game Number":1815,"Game Name":"Silver 7s","Ticket Price":5,"Top Prize":477777,"Claimed":4,"Total":4},{"Game Number":1690,"Game Name":"Single, Double, Triple","Ticket Price":5,"Top Prize":500000,"Claimed":2,"Total":3},{"Game Number":1741,"Game Name":"Sizzling Hot $500,000","Ticket Price":25,"Top Prize":500000,"Claimed":4,"Total":6},{"Game Number":1567,"Game Name":"Space Invaders","Ticket Price":2,"Top Prize":50000,"Claimed":3,"Total":4},{"Game Number":1545,"Game Name":"Special Edition Jumbo Bucks 20X","Ticket Price":5,"Top Prize":400000,"Claimed":5,"Total":6},{"Game Number":1853,"Game Name":"Spicy Hot Cash","Ticket Price":2,"Top Prize":30000,"Claimed":4,"Total":5},{"Game Number":1683,"Game Name":"Super 7s","Ticket Price":2,"Top Prize":17777,"Claimed":5,"Total":6},{"Game Number":1816,"Game Name":"Super-Sized Bucks Power 25x","Ticket Price":25,"Top Prize":500000,"Claimed":3,"Total":5},{"Game Number":1726,"Game Name":"Tic Tac Toe Multiplier","Ticket Price":2,"Top Prize":30000,"Claimed":4,"Total":7},{"Game Number":1761,"Game Name":"Titanium 7s","Ticket Price":30,"Top Prize":700000,"Claimed":4,"Total":5},{"Game Number":1753,"Game Name":"Triple 777","Ticket Price":10,"Top Prize":777777,"Claimed":2,"Total":3},{"Game Number":1755,"Game Name":"Triple Chance","Ticket Price":2,"Top Prize":33333,"Claimed":3,"Total":4},{"Game Number":1648,"Game Name":"Triple It!","Ticket Price":2,"Top Prize":40000,"Claimed":3,"Total":4},{"Game Number":1728,"Game Name":"Triple Jackpot","Ticket Price":10,"Top Prize":1000000,"Claimed":2,"Total":3},{"Game Number":1826,"Game Name":"VIP Platinum","Ticket Price":10,"Top Prize":1000000,"Claimed":1,"Total":3},{"Game Number":1813,"Game Name":"Win $1,000 a Month for Life","Ticket Price":2,"Top Prize":"$1K/mo for life","Claimed":2,"Total":4},{"Game Number":1227,"Game Name":"Win Either $50 or $100","Ticket Price":10,"Top Prize":100,"Claimed":1156957,"Total":1162259},{"Game Number":1600,"Game Name":"Win Either $50 or $100","Ticket Price":10,"Top Prize":100,"Claimed":698283,"Total":702592},{"Game Number":1799,"Game Name":"Win Either $50 or $100","Ticket Price":10,"Top Prize":100,"Claimed":602592,"Total":1001430},{"Game Number":1735,"Game Name":"Wrestlemania Money Match","Ticket Price":5,"Top Prize":400000,"Claimed":2,"Total":3},{"Game Number":1828,"Game Name":"Xtreme BUCKS","Ticket Price":2,"Top Prize":50000,"Claimed":2,"Total":3},{"Game Number":1830,"Game Name":"Xtreme CASH","Ticket Price":10,"Top Prize":1000000,"Claimed":3,"Total":3},{"Game Number":1831,"Game Name":"Xtreme MONEY","Ticket Price":20,"Top Prize":2000000,"Claimed":2,"Total":3}];

// ── Data Processing ──

const GAMES = LOTTERY_DATA.map(g => {
  const left = g.Total - g.Claimed;
  const pct = g.Total > 0 ? (left / g.Total) * 100 : 0;
  return { ...g, prizesLeft: left, pctLeft: pct };
});

// Build lookup by game number
const GAME_MAP = new Map();
GAMES.forEach(g => {
  if (!GAME_MAP.has(g["Game Number"])) GAME_MAP.set(g["Game Number"], []);
  GAME_MAP.get(g["Game Number"]).push(g);
});

// Build name-based index: normalized tokens per game for fuzzy matching
function normalize(str) {
  return str.toLowerCase()
    .replace(/[$,!.'&]/g, "")
    .replace(/\s+/g, " ")
    .trim();
}

function tokenize(str) {
  return normalize(str).split(" ").filter(t => t.length > 0);
}

// Deduplicate games by Game Number for name search (group prize tiers)
const UNIQUE_GAMES = [];
const seenNums = new Set();
GAMES.forEach(g => {
  if (!seenNums.has(g["Game Number"])) {
    seenNums.add(g["Game Number"]);
    UNIQUE_GAMES.push(g);
  }
});

// Fuzzy match: score how well OCR text matches a game name
function fuzzyScore(ocrText, gameName) {
  const ocrNorm = normalize(ocrText);
  const nameTokens = tokenize(gameName);
  if (nameTokens.length === 0) return 0;

  let matched = 0;
  for (const token of nameTokens) {
    // Check if this token (or close variant) appears in OCR text
    if (ocrNorm.includes(token)) {
      matched++;
    } else {
      // Try with common OCR substitutions: 0/O, 1/I/l, 5/S, 8/B
      const variants = [
        token.replace(/0/g, "o"), token.replace(/o/g, "0"),
        token.replace(/1/g, "l"), token.replace(/l/g, "1"),
        token.replace(/5/g, "s"), token.replace(/s/g, "5"),
      ];
      if (variants.some(v => ocrNorm.includes(v))) matched += 0.7;
    }
  }
  // Require at least 50% of significant tokens to match
  const significantTokens = nameTokens.filter(t => t.length > 1);
  const score = significantTokens.length > 0
    ? matched / nameTokens.length
    : matched / nameTokens.length;
  return score;
}

function findGamesByOCR(ocrText) {
  const results = [];
  const ocrLower = normalize(ocrText);

  for (const game of UNIQUE_GAMES) {
    const name = game["Game Name"];
    const score = fuzzyScore(ocrText, name);

    // Also check if the game number appears directly
    const numStr = String(game["Game Number"]);
    const hasNumber = ocrLower.includes(numStr);

    if (score >= 0.6 || hasNumber) {
      const allTiers = GAME_MAP.get(game["Game Number"]) || [game];
      results.push({ score: hasNumber ? 1.0 : score, games: allTiers });
    }
  }

  // Sort by match quality, return unique games
  results.sort((a, b) => b.score - a.score);
  const seen = new Set();
  const flat = [];
  for (const r of results) {
    for (const g of r.games) {
      const key = `${g["Game Number"]}-${g["Top Prize"]}`;
      if (!seen.has(key)) { seen.add(key); flat.push(g); }
    }
  }
  return flat;
}

// ── Utilities ──

function formatMoney(val) {
  if (typeof val === "string") return val;
  if (val >= 1000000) return "$" + (val / 1000000).toFixed(val % 1000000 === 0 ? 0 : 1) + "M";
  if (val >= 1000) return "$" + (val / 1000).toFixed(val % 1000 === 0 ? 0 : 1) + "K";
  return "$" + val;
}

function getColor(pct) {
  if (pct >= 50) return "#22c55e";
  if (pct >= 25) return "#eab308";
  if (pct > 0) return "#f97316";
  return "#ef4444";
}

function getLabel(pct) {
  if (pct >= 50) return "GOOD BUY";
  if (pct >= 25) return "DECENT";
  if (pct > 0) return "LOW";
  return "DEAD";
}

function getBgColor(pct) {
  if (pct >= 50) return "rgba(34,197,94,0.1)";
  if (pct >= 25) return "rgba(234,179,8,0.08)";
  if (pct > 0) return "rgba(249,115,22,0.08)";
  return "rgba(239,68,68,0.08)";
}

// ── Components ──

function Header() {
  return React.createElement("div", { style: {
    background: "linear-gradient(135deg, #1a1a2e 0%, #16213e 100%)",
    padding: "20px 16px 16px",
    borderBottom: "1px solid #222",
    position: "sticky", top: 0, zIndex: 10
  }},
    React.createElement("h1", { style: { fontSize: 20, fontWeight: 700, color: "#fff", letterSpacing: "-0.5px" } }, "GA Scratch-Off Scanner"),
    React.createElement("p", { style: { fontSize: 12, color: "#888", marginTop: 2 } }, "Snap the machine or search by name")
  );
}

function GameCard({ game, highlighted, onTap }) {
  const color = getColor(game.pctLeft);
  const label = getLabel(game.pctLeft);
  return React.createElement("div", {
    onClick: onTap,
    style: {
      background: getBgColor(game.pctLeft),
      border: highlighted ? `2px solid ${color}` : "1px solid #222",
      borderRadius: 10, padding: "12px 14px", marginBottom: 8,
      transition: "all 0.2s", cursor: onTap ? "pointer" : "default"
    }
  },
    React.createElement("div", { style: { display: "flex", justifyContent: "space-between", alignItems: "flex-start" } },
      React.createElement("div", { style: { flex: 1, minWidth: 0 } },
        React.createElement("div", { style: { fontSize: 13, color: "#888", marginBottom: 2 } },
          `#${game["Game Number"]}  \u00B7  $${game["Ticket Price"]} ticket`),
        React.createElement("div", { style: {
          fontSize: 15, fontWeight: 600, color: "#fff",
          whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis"
        }}, game["Game Name"])
      ),
      React.createElement("div", { style: {
        background: color, color: game.pctLeft > 0 ? "#000" : "#fff",
        fontSize: 11, fontWeight: 700, padding: "3px 8px", borderRadius: 6,
        whiteSpace: "nowrap", marginLeft: 8
      }}, label)
    ),
    React.createElement("div", { style: {
      display: "flex", justifyContent: "space-between", alignItems: "center", marginTop: 10
    }},
      React.createElement("div", null,
        React.createElement("div", { style: { fontSize: 11, color: "#666", textTransform: "uppercase", letterSpacing: 1 } }, "Top Prize"),
        React.createElement("div", { style: { fontSize: 17, fontWeight: 700, color } }, formatMoney(game["Top Prize"]))
      ),
      React.createElement("div", { style: { textAlign: "center" } },
        React.createElement("div", { style: { fontSize: 11, color: "#666", textTransform: "uppercase", letterSpacing: 1 } }, "Left"),
        React.createElement("div", { style: { fontSize: 17, fontWeight: 700, color } }, `${game.prizesLeft}/${game.Total}`)
      ),
      React.createElement("div", { style: { textAlign: "right" } },
        React.createElement("div", { style: { fontSize: 11, color: "#666", textTransform: "uppercase", letterSpacing: 1 } }, "% Left"),
        React.createElement("div", { style: { fontSize: 17, fontWeight: 700, color } }, `${game.pctLeft.toFixed(1)}%`)
      )
    ),
    React.createElement("div", { style: { height: 4, background: "#222", borderRadius: 2, marginTop: 8, overflow: "hidden" } },
      React.createElement("div", { style: {
        height: "100%", width: `${game.pctLeft}%`, background: color,
        borderRadius: 2, transition: "width 0.5s"
      }})
    )
  );
}

function ScanResult({ games, ocrText, onClear }) {
  if (!games || games.length === 0) return null;
  const sorted = [...games].sort((a, b) => b.pctLeft - a.pctLeft);
  return React.createElement("div", { style: { padding: "12px 16px" } },
    React.createElement("div", { style: {
      display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 8
    }},
      React.createElement("h2", { style: { fontSize: 16, fontWeight: 600, color: "#fff" } },
        `Found ${games.length} match${games.length !== 1 ? "es" : ""}`),
      React.createElement("button", { onClick: onClear, style: {
        background: "none", border: "1px solid #444", color: "#aaa",
        padding: "4px 10px", borderRadius: 6, fontSize: 12, cursor: "pointer"
      }}, "Clear")
    ),
    ocrText && React.createElement("div", { style: {
      fontSize: 11, color: "#555", marginBottom: 10, padding: "6px 8px",
      background: "#111", borderRadius: 6, maxHeight: 60, overflow: "auto"
    }}, "OCR: " + ocrText.substring(0, 200)),
    sorted.map((g, i) => React.createElement(GameCard, {
      key: `${g["Game Number"]}-${g["Top Prize"]}-${i}`, game: g, highlighted: true
    }))
  );
}

function Scanner({ onResult, onOcrText }) {
  const [scanning, setScanning] = React.useState(false);
  const [progress, setProgress] = React.useState(0);
  const [error, setError] = React.useState(null);
  const fileRef = React.useRef();

  const processImage = async (file) => {
    setScanning(true);
    setError(null);
    setProgress(0);
    try {
      const result = await Tesseract.recognize(file, "eng", {
        logger: (m) => {
          if (m.status === "recognizing text") setProgress(Math.round(m.progress * 100));
        }
      });
      const text = result.data.text;
      onOcrText(text);

      // Fuzzy match against game names
      const found = findGamesByOCR(text);

      if (found.length > 0) {
        onResult(found);
      } else {
        setError(`No games matched. OCR read:\n"${text.substring(0, 200).trim()}"\n\nTry searching by name below.`);
      }
    } catch (e) {
      setError("OCR failed: " + e.message);
    }
    setScanning(false);
    setProgress(0);
  };

  return React.createElement("div", { style: { padding: "16px" } },
    React.createElement("input", {
      ref: fileRef, type: "file", accept: "image/*", capture: "environment",
      onChange: (e) => { const f = e.target.files?.[0]; if (f) processImage(f); },
      style: { display: "none" }
    }),
    React.createElement("button", {
      onClick: () => fileRef.current?.click(),
      disabled: scanning,
      style: {
        width: "100%", padding: "14px", fontSize: 16, fontWeight: 600,
        background: scanning ? "#333" : "linear-gradient(135deg, #3b82f6, #2563eb)",
        color: "#fff", border: "none", borderRadius: 10,
        cursor: scanning ? "default" : "pointer",
        display: "flex", alignItems: "center", justifyContent: "center", gap: 8
      }
    }, scanning ? `Reading ticket names... ${progress}%` : "\uD83D\uDCF7  Snap the Machine"),
    scanning && React.createElement("div", { style: {
      height: 4, background: "#222", borderRadius: 2, marginTop: 8, overflow: "hidden"
    }},
      React.createElement("div", { style: {
        height: "100%", width: `${progress}%`, background: "#3b82f6",
        borderRadius: 2, transition: "width 0.3s"
      }})
    ),
    error && React.createElement("div", { style: {
      marginTop: 10, padding: "10px 12px", background: "rgba(239,68,68,0.1)",
      border: "1px solid #ef4444", borderRadius: 8, fontSize: 13, color: "#f87171",
      whiteSpace: "pre-wrap"
    }}, error)
  );
}

function NameSearch({ onResult }) {
  const [query, setQuery] = React.useState("");
  const [suggestions, setSuggestions] = React.useState([]);

  const handleChange = (val) => {
    setQuery(val);
    if (val.length < 2) { setSuggestions([]); return; }

    const q = val.toLowerCase();
    const matches = UNIQUE_GAMES.filter(g => {
      const name = g["Game Name"].toLowerCase();
      const num = String(g["Game Number"]);
      return name.includes(q) || num.includes(q);
    }).slice(0, 8);
    setSuggestions(matches);
  };

  const selectGame = (game) => {
    const allTiers = GAME_MAP.get(game["Game Number"]) || [game];
    onResult(allTiers);
    setQuery("");
    setSuggestions([]);
  };

  return React.createElement("div", { style: { padding: "0 16px 12px" } },
    React.createElement("input", {
      type: "text", placeholder: "Search by game name (e.g. \"500X\", \"Jumbo\")",
      value: query, onChange: (e) => handleChange(e.target.value),
      style: {
        width: "100%", padding: "12px 14px", fontSize: 16, background: "#111",
        color: "#fff", border: "1px solid #333", borderRadius: 10, outline: "none"
      }
    }),
    suggestions.length > 0 && React.createElement("div", { style: {
      background: "#161620", border: "1px solid #333", borderRadius: 10,
      marginTop: 4, overflow: "hidden"
    }},
      suggestions.map((g, i) => {
        const color = getColor(g.pctLeft);
        return React.createElement("div", {
          key: `${g["Game Number"]}-${i}`,
          onClick: () => selectGame(g),
          style: {
            padding: "10px 14px", cursor: "pointer",
            borderBottom: i < suggestions.length - 1 ? "1px solid #222" : "none",
            display: "flex", justifyContent: "space-between", alignItems: "center"
          }
        },
          React.createElement("div", { style: { minWidth: 0, flex: 1 } },
            React.createElement("div", { style: {
              fontSize: 14, fontWeight: 600, color: "#fff",
              whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis"
            }}, g["Game Name"]),
            React.createElement("div", { style: { fontSize: 12, color: "#666" } },
              `$${g["Ticket Price"]}  \u00B7  Top: ${formatMoney(g["Top Prize"])}`)
          ),
          React.createElement("div", { style: {
            fontSize: 12, fontWeight: 700, color, marginLeft: 8, whiteSpace: "nowrap"
          }}, `${g.pctLeft.toFixed(0)}%`)
        );
      })
    )
  );
}

function QuickPick({ onResult, selected }) {
  const [expanded, setExpanded] = React.useState(false);
  const [priceFilter, setPriceFilter] = React.useState(null);

  const selectedNums = new Set((selected || []).map(g => g["Game Number"]));
  let games = UNIQUE_GAMES.filter(g => g.pctLeft > 0);
  if (priceFilter !== null) games = games.filter(g => g["Ticket Price"] === priceFilter);
  games.sort((a, b) => a["Game Name"].localeCompare(b["Game Name"]));
  const display = expanded ? games : games.slice(0, 12);

  const prices = [...new Set(GAMES.map(g => g["Ticket Price"]))].sort((a, b) => a - b);

  const toggle = (game) => {
    const allTiers = GAME_MAP.get(game["Game Number"]) || [game];
    onResult(allTiers, !selectedNums.has(game["Game Number"]));
  };

  return React.createElement("div", { style: { padding: "0 16px 12px" } },
    React.createElement("div", { style: {
      fontSize: 13, fontWeight: 600, color: "#999", marginBottom: 8
    }}, "Quick Pick — tap games you see:"),
    // Price chips
    React.createElement("div", { style: {
      display: "flex", gap: 6, overflowX: "auto", paddingBottom: 8,
      WebkitOverflowScrolling: "touch"
    }},
      React.createElement("button", {
        onClick: () => setPriceFilter(null),
        style: {
          padding: "5px 10px", fontSize: 11, fontWeight: 600, borderRadius: 16,
          border: "none", cursor: "pointer", flexShrink: 0,
          background: priceFilter === null ? "#3b82f6" : "#1a1a2e",
          color: priceFilter === null ? "#fff" : "#888"
        }
      }, "All"),
      prices.map(p => React.createElement("button", {
        key: p, onClick: () => setPriceFilter(p),
        style: {
          padding: "5px 10px", fontSize: 11, fontWeight: 600, borderRadius: 16,
          border: "none", cursor: "pointer", flexShrink: 0,
          background: priceFilter === p ? "#3b82f6" : "#1a1a2e",
          color: priceFilter === p ? "#fff" : "#888"
        }
      }, `$${p}`))
    ),
    // Game chips
    React.createElement("div", { style: {
      display: "flex", flexWrap: "wrap", gap: 6
    }},
      display.map(g => {
        const isSelected = selectedNums.has(g["Game Number"]);
        const color = getColor(g.pctLeft);
        return React.createElement("button", {
          key: g["Game Number"],
          onClick: () => toggle(g),
          style: {
            padding: "6px 10px", fontSize: 12, borderRadius: 8, cursor: "pointer",
            border: isSelected ? `2px solid ${color}` : "1px solid #333",
            background: isSelected ? getBgColor(g.pctLeft) : "#111",
            color: isSelected ? color : "#ccc",
            fontWeight: isSelected ? 700 : 400,
            whiteSpace: "nowrap"
          }
        }, g["Game Name"].length > 24 ? g["Game Name"].substring(0, 22) + "\u2026" : g["Game Name"]);
      })
    ),
    !expanded && games.length > 12 && React.createElement("button", {
      onClick: () => setExpanded(true),
      style: {
        marginTop: 8, padding: "6px 12px", fontSize: 12, color: "#3b82f6",
        background: "none", border: "1px solid #333", borderRadius: 8, cursor: "pointer"
      }
    }, `Show all ${games.length} games`)
  );
}

function FilterBar({ priceFilter, setPriceFilter, sortBy, setSortBy }) {
  const prices = [...new Set(GAMES.map(g => g["Ticket Price"]))].sort((a, b) => a - b);
  return React.createElement("div", { style: { padding: "8px 16px 4px" } },
    React.createElement("div", { style: {
      display: "flex", gap: 6, overflowX: "auto", paddingBottom: 8, WebkitOverflowScrolling: "touch"
    }},
      React.createElement("button", {
        onClick: () => setPriceFilter(null),
        style: {
          padding: "6px 12px", fontSize: 12, fontWeight: 600, borderRadius: 20,
          border: "none", cursor: "pointer",
          background: priceFilter === null ? "#3b82f6" : "#1a1a2e",
          color: priceFilter === null ? "#fff" : "#888",
          whiteSpace: "nowrap", flexShrink: 0
        }
      }, "All"),
      prices.map(p => React.createElement("button", {
        key: p, onClick: () => setPriceFilter(p),
        style: {
          padding: "6px 12px", fontSize: 12, fontWeight: 600, borderRadius: 20,
          border: "none", cursor: "pointer",
          background: priceFilter === p ? "#3b82f6" : "#1a1a2e",
          color: priceFilter === p ? "#fff" : "#888",
          whiteSpace: "nowrap", flexShrink: 0
        }
      }, `$${p}`))
    ),
    React.createElement("div", { style: { display: "flex", gap: 6, paddingBottom: 8 } },
      [["pct", "% Left"], ["prize", "Top Prize"], ["value", "Best Value"]].map(([k, label]) =>
        React.createElement("button", {
          key: k, onClick: () => setSortBy(k),
          style: {
            flex: 1, padding: "6px 0", fontSize: 12, fontWeight: 600, borderRadius: 8,
            border: "none", cursor: "pointer",
            background: sortBy === k ? "#222" : "transparent",
            color: sortBy === k ? "#fff" : "#666"
          }
        }, label)
      )
    )
  );
}

function AllGames() {
  const [priceFilter, setPriceFilter] = React.useState(null);
  const [sortBy, setSortBy] = React.useState("pct");
  const [searchQuery, setSearchQuery] = React.useState("");

  let filtered = GAMES.filter(g => g.pctLeft > 0);
  if (priceFilter !== null) filtered = filtered.filter(g => g["Ticket Price"] === priceFilter);
  if (searchQuery) {
    const q = searchQuery.toLowerCase();
    filtered = filtered.filter(g =>
      g["Game Name"].toLowerCase().includes(q) || String(g["Game Number"]).includes(q)
    );
  }
  if (sortBy === "pct") filtered.sort((a, b) => b.pctLeft - a.pctLeft);
  else if (sortBy === "prize") {
    filtered.sort((a, b) => {
      const aP = typeof a["Top Prize"] === "number" ? a["Top Prize"] : 0;
      const bP = typeof b["Top Prize"] === "number" ? b["Top Prize"] : 0;
      return bP - aP;
    });
  } else if (sortBy === "value") {
    filtered.sort((a, b) => {
      const aV = (typeof a["Top Prize"] === "number" ? a["Top Prize"] : 0) * a.pctLeft / a["Ticket Price"];
      const bV = (typeof b["Top Prize"] === "number" ? b["Top Prize"] : 0) * b.pctLeft / b["Ticket Price"];
      return bV - aV;
    });
  }

  return React.createElement("div", { style: { padding: "8px 0" } },
    React.createElement("div", { style: { padding: "0 16px 8px" } },
      React.createElement("input", {
        type: "text", placeholder: "Search games...",
        value: searchQuery, onChange: (e) => setSearchQuery(e.target.value),
        style: {
          width: "100%", padding: "10px 14px", fontSize: 14, background: "#111",
          color: "#fff", border: "1px solid #333", borderRadius: 10, outline: "none"
        }
      })
    ),
    React.createElement(FilterBar, { priceFilter, setPriceFilter, sortBy, setSortBy }),
    React.createElement("div", { style: {
      padding: "4px 16px 0", fontSize: 12, color: "#666", marginBottom: 8
    }}, `${filtered.length} games with prizes remaining`),
    React.createElement("div", { style: { padding: "0 16px" } },
      filtered.map((g, i) => React.createElement(GameCard, {
        key: `${g["Game Number"]}-${g["Top Prize"]}-${i}`, game: g
      }))
    )
  );
}

function App() {
  const [tab, setTab] = React.useState("scan");
  const [scanResults, setScanResults] = React.useState(null);
  const [ocrText, setOcrText] = React.useState(null);
  const [quickPicked, setQuickPicked] = React.useState([]);

  const handleScanResult = (games) => {
    setScanResults(games);
  };

  const handleNameResult = (games) => {
    setScanResults(prev => {
      const existing = prev || [];
      const existingKeys = new Set(existing.map(g => `${g["Game Number"]}-${g["Top Prize"]}`));
      const newGames = games.filter(g => !existingKeys.has(`${g["Game Number"]}-${g["Top Prize"]}`));
      return [...existing, ...newGames];
    });
  };

  const handleQuickPick = (games, add) => {
    if (add) {
      setQuickPicked(prev => {
        const keys = new Set(prev.map(g => `${g["Game Number"]}-${g["Top Prize"]}`));
        const newG = games.filter(g => !keys.has(`${g["Game Number"]}-${g["Top Prize"]}`));
        return [...prev, ...newG];
      });
    } else {
      const removeNums = new Set(games.map(g => g["Game Number"]));
      setQuickPicked(prev => prev.filter(g => !removeNums.has(g["Game Number"])));
    }
  };

  const clearAll = () => {
    setScanResults(null);
    setOcrText(null);
    setQuickPicked([]);
  };

  const allResults = React.useMemo(() => {
    const merged = [...(scanResults || []), ...quickPicked];
    const seen = new Set();
    return merged.filter(g => {
      const key = `${g["Game Number"]}-${g["Top Prize"]}`;
      if (seen.has(key)) return false;
      seen.add(key);
      return true;
    });
  }, [scanResults, quickPicked]);

  return React.createElement("div", null,
    React.createElement(Header),
    // Tab bar
    React.createElement("div", { style: {
      display: "flex", background: "#111", borderBottom: "1px solid #222"
    }},
      [["scan", "Scan / Pick"], ["browse", "Browse All"]].map(([key, label]) =>
        React.createElement("button", {
          key, onClick: () => setTab(key),
          style: {
            flex: 1, padding: "12px 0", fontSize: 14, fontWeight: 600,
            border: "none", cursor: "pointer", background: "transparent",
            color: tab === key ? "#3b82f6" : "#666",
            borderBottom: tab === key ? "2px solid #3b82f6" : "2px solid transparent"
          }
        }, label)
      )
    ),
    tab === "scan" && React.createElement(React.Fragment, null,
      React.createElement(Scanner, { onResult: handleScanResult, onOcrText: setOcrText }),
      // Divider
      React.createElement("div", { style: {
        padding: "0 16px 8px", display: "flex", alignItems: "center", gap: 8
      }},
        React.createElement("div", { style: { flex: 1, height: 1, background: "#333" } }),
        React.createElement("span", { style: { fontSize: 12, color: "#555" } }, "or search by name"),
        React.createElement("div", { style: { flex: 1, height: 1, background: "#333" } })
      ),
      React.createElement(NameSearch, { onResult: handleNameResult }),
      // Divider
      React.createElement("div", { style: {
        padding: "0 16px 8px", display: "flex", alignItems: "center", gap: 8
      }},
        React.createElement("div", { style: { flex: 1, height: 1, background: "#333" } }),
        React.createElement("span", { style: { fontSize: 12, color: "#555" } }, "or tap to select"),
        React.createElement("div", { style: { flex: 1, height: 1, background: "#333" } })
      ),
      React.createElement(QuickPick, { onResult: handleQuickPick, selected: quickPicked }),
      // Results
      allResults.length > 0 && React.createElement("div", { style: { padding: "12px 16px" } },
        React.createElement("div", { style: {
          display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 8
        }},
          React.createElement("h2", { style: { fontSize: 16, fontWeight: 600, color: "#fff" } },
            `Results (${allResults.length})`),
          React.createElement("button", { onClick: clearAll, style: {
            background: "none", border: "1px solid #444", color: "#aaa",
            padding: "4px 10px", borderRadius: 6, fontSize: 12, cursor: "pointer"
          }}, "Clear All")
        ),
        ocrText && React.createElement("div", { style: {
          fontSize: 11, color: "#555", marginBottom: 10, padding: "6px 8px",
          background: "#111", borderRadius: 6, maxHeight: 50, overflow: "auto"
        }}, "OCR: " + ocrText.substring(0, 200)),
        [...allResults].sort((a, b) => b.pctLeft - a.pctLeft).map((g, i) =>
          React.createElement(GameCard, {
            key: `r-${g["Game Number"]}-${g["Top Prize"]}-${i}`,
            game: g, highlighted: true
          })
        )
      )
    ),
    tab === "browse" && React.createElement(AllGames)
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(React.createElement(App));

</script>
</body>
</html>
